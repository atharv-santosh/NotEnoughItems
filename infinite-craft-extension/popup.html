<!DOCTYPE html>
<html>
<head>
    <title>NotEnoughItems</title>
    <style>
        :root {
            --bg: #0f1115;
            --panel: #171a21;
            --muted: #8a8fa3;
            --text: #e5e7ef;
            --accent: #4f8cff;
            --accent-2: #22c55e;
            --danger: #ef4444;
            --btn-bg: #222634;
            --chip: #2a2f3f;
        }
        * { box-sizing: border-box; }
        body { font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; min-width: 340px; margin: 0; background: var(--bg); color: var(--text); }
        header { padding: 12px 14px; border-bottom: 1px solid #23283a; display: flex; align-items: center; justify-content: space-between; }
        h2 { margin: 0; font-size: 14px; letter-spacing: .2px; }
        main { padding: 12px 14px; }
        .row { display: flex; flex-wrap: wrap; gap: 8px; margin: 10px 0; }
        .btn {
            padding: 8px 12px; font-size: 12px; border: 1px solid transparent; border-radius: 8px; background: var(--btn-bg); color: var(--text); cursor: pointer; transition: .15s ease;
        }
        .btn:hover { filter: brightness(1.1); }
        .btn:active { transform: translateY(1px); }
        .btn.primary { background: linear-gradient(180deg, #5a98ff, #4f8cff); color: #fff; }
        .btn.success { background: linear-gradient(180deg, #34d399, #22c55e); color: #0b2d18; }
        .btn.danger { background: linear-gradient(180deg, #f87171, #ef4444); color: #3a0b0b; }
        .btn.outline { background: transparent; border-color: #2e344a; }
        .chip { background: var(--chip); padding: 4px 8px; border-radius: 999px; font-size: 11px; color: var(--muted); }
        .label { font-size: 12px; color: var(--muted); }
        input[type="text"] { padding: 8px 10px; font-size: 12px; flex: 1; border-radius: 8px; border: 1px solid #2e344a; background: #12141a; color: var(--text); }
        #elements { margin-top: 10px; max-height: 240px; overflow: auto; font-size: 12px; background: var(--panel); border: 1px solid #23283a; border-radius: 8px; padding: 8px; }
        #restrictedList { margin-top: 6px; font-size: 12px; color: var(--muted); }
        #status { margin-top: 6px; font-size: 12px; color: var(--muted); }
        .spacer { flex: 1; }
    </style>
</head>
<body>
    <header>
        <h2>NotEnoughItems</h2>
        <span class="chip" id="itemCount">Items: ?</span>
    </header>
    <main>
        <div class="row">
            <button id="toggleBot" class="btn primary">Start</button>
            <button id="fetchElements" class="btn outline">Refresh Items</button>
            <div class="spacer"></div>
            <button id="calibPickup" class="btn outline">Calibrate Pickup</button>
            <button id="calibDrop" class="btn outline">Calibrate Drop</button>
        </div>

        <div class="row">
            <input id="restrictedInput" type="text" placeholder="Block element (e.g. 1, 2, Complex)" />
            <button id="addRestricted" class="btn success">Add</button>
            <button id="removeRestricted" class="btn danger">Remove</button>
        </div>
        <div id="restrictedList">Restricted: (none)</div>

        <div id="status">Status: Unknown</div>
        <div id="elements"></div>
    </main>
    <script src="popup.js"></script>
</body>
</html>
